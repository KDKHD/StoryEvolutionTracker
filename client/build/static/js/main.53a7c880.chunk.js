(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{170:function(e,t,n){},171:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n.n(i),o=(n(170),n(52)),s=(n(171),n(250)),l=n(150),u=Object(l.a)({palette:{primary:{main:"#5294ff",contrastText:"white"},secondary:{main:"#989898"}}}),d=n(21),b=n(252),j=n(233),h=n(3),p=(Object(j.a)((function(e){return{glass:{height:"100%",width:"100%",background:"linear-gradient(to right bottom,rgba(255, 255, 255, 0.7),rgba(255, 255, 255, 0.3))",zIndex:99,backdropFilter:"blur(1rem)",borderRadius:5},container:{height:"100vh",width:"100vw",zIndex:-1,background:"linear-gradient(to right top, #fff, #fff)",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},circle:{background:"linear-gradient(to right bottom,rgba(253, 203, 110, 0.8),rgba(253, 203, 110, 0.3))",width:300,height:300,borderRadius:"50%",position:"absolute",animation:"$moveX 50s linear 0s infinite alternate, $moveY 55s linear 0s infinite alternate"},circle1:{background:"linear-gradient(to right bottom,rgba(214, 48, 49, 0.5),rgba(214, 48, 49, 0.3))",animation:"$moveX 40s linear 0s infinite alternate, $moveY 60s linear 0s infinite alternate",width:300,height:300},circle2:{background:"linear-gradient(to right bottom,rgba(0, 184, 148, 0.8),rgba(0, 184, 148, 0.3))",animation:"$moveX 70s linear 0s infinite alternate, $moveY 40s linear 0s infinite alternate",width:300,height:300},"@keyframes moveX":{from:{left:0},to:{left:"calc(100% - 300px)"}},"@keyframes moveY":{from:{top:0},to:{top:"calc(100% - 300px)"}}}})),n(53)),f=n(251),m=n(142),O=n.n(m),x=n(141),g=n.n(x),v=Object(j.a)((function(e){return{searchBar:{display:"flex",flexDirection:"row",alignItems:"center",transition:"all 2s",justifyContent:"center",width:"1000px",zIndex:99,background:"linear-gradient(180deg, #F1EDE4 80%, rgba(0,0,0,0) 100%)"},sticky:{position:"fixed",top:0},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 1000px #F1EDE4 inset"},textAlign:"center"},spacer:{marginTop:102}}})),k=function(e){var t=v(),n=Object(a.useState)(!1),r=Object(d.a)(n,2),i=r[0],c=r[1],o=function(){var e=window.scrollY;c(e>94)};return Object(a.useEffect)((function(){window.addEventListener("scroll",o)})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(b.a,{className:[t.searchBar].concat(Object(p.a)(i?[t.sticky]:[])).join(" "),children:[Object(h.jsx)(f.a,{id:"standard-full-width",style:{margin:8,padding:"1rem",maxWidth:1e3},placeholder:"Article URL",helperText:"Hit enter to search \ud83d\udd0e",fullWidth:!0,value:e.value,onChange:function(t){return e.setValue(t.target.value)},margin:"normal",InputLabelProps:{shrink:!0},inputProps:{className:t.input},onKeyDown:function(t){return"Enter"==t.key&&e.onSubmit(e.value)}}),null==e.bookmarked?null:e.bookmarked?Object(h.jsx)(g.a,{}):Object(h.jsx)(O.a,{})]}),Object(h.jsx)(b.a,{className:i?t.spacer:""})]})},y=n(201),w=(Object(j.a)((function(e){return{container:{width:"100%",height:160,display:"flex",flexDirection:"row"},root:{margin:"20px 0 20px 0"},title:{textAlign:"left",fontWeight:500,fontSize:"20px",paddingBottom:10,paddingTop:10},snippet:{textAlign:"left",width:"100%",fontSize:12,flexGrow:1,textOverflow:"ellipsis",wordWrap:"break-word"},src:{width:160,height:160,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},textContainer:{height:"100%",padding:"1rem",display:"flex",flexDirection:"column",alignContent:"flex-start"},date:{fontSize:10,textAlign:"right",color:"grey"}}})),n(41)),S=n(236),C=n(202),N=n(237),I=n(42),_=n(151),E=n(84),T=n(37),P=n.n(T);n(89).config();var A,D,F,R,B=new _.a({uri:"".concat("https://h5iyxee68b.execute-api.us-east-1.amazonaws.com","/dev/search"),cache:new E.a({addTypename:!1}),request:function(e){var t=P.a.get("token");e.setContext({headers:{Authorization:t?"Bearer ".concat(t):""}})}}),W=function(e,t){var n=function(e,t){var n;try{return n=B.readQuery(Object(o.a)({query:e},t)),{read:function(){return n}}}catch(a){n=null}return n}(e,t);return n||function(e){var t,n="pending",a=e.catch((function(e){document.cookie="token= ; expires = Thu, 01 Jan 1970 00:00:00 GMT",window.location.href="/login"})).then((function(e){n="success",t=e}),(function(e){n="error",t=e}));return{read:function(){switch(n){case"pending":throw a;case"error":throw t;default:return t}}}}(B.query(Object(o.a)({query:e},t)).then((function(e){return e.data})))},z=n(20),L=Object(j.a)((function(e){return{listItem:{width:300,height:50,display:"flex",alignItems:"center"},title:{fontSize:25,fontWeight:800,padding:16}}})),U=Object(I.gql)(A||(A=Object(w.a)(["\nquery{\n  user{\n    notifications{\n      url\n      title\n    }\n  }\n}\n"]))),q=function(e){var t=e.resource,n=e.updateSearch,a=t.read(),r=L();Object(z.g)();return 0==a.user.notifications.length?Object(h.jsx)(S.a,{children:Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:r.listItem,children:"No Notifications"})})}):Object(h.jsx)(S.a,{children:a.user.notifications.map((function(e,t){return Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:r.listItem,onClick:function(){return n(e.url)},children:e.title})},t)}))})},H=function(e){var t=L(),n=W(U,{fetchPolicy:"no-cache"});return Object(h.jsxs)(N.a,{onClose:e.handleClose,"aria-labelledby":"simple-dialog-title",open:e.open,children:[Object(h.jsx)(b.a,{className:t.title,children:"Notifications"}),Object(h.jsx)(a.Suspense,{fallback:Object(h.jsx)(S.a,{children:Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:t.listItem,children:"Loading"})})}),children:Object(h.jsx)(q,{resource:n,updateSearch:e.updateSearch})})]})},M=Object(j.a)((function(e){return{listItem:{width:300,height:50,display:"flex",alignItems:"center"},title:{fontSize:25,fontWeight:800,padding:16}}})),K=Object(I.gql)(D||(D=Object(w.a)(["\nquery{\n  user{\n    history{\n      url\n      title\n    }\n  }\n}\n"]))),J=function(e){var t=e.resource,n=e.updateSearch,a=t.read(),r=M();Object(z.g)();return 0==a.user.history.length?Object(h.jsx)(S.a,{children:Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:r.listItem,children:"No History"})})}):Object(h.jsx)(S.a,{children:a.user.history.slice(10).map((function(e,t){return Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:r.listItem,onClick:function(){return n(e.url)},children:e.title})},t)}))})},$=function(e){var t=M(),n=W(K,{fetchPolicy:"no-cache"});return Object(h.jsxs)(N.a,{onClose:e.handleClose,"aria-labelledby":"simple-dialog-title",open:e.open,children:[Object(h.jsx)(b.a,{className:t.title,children:"History"}),Object(h.jsx)(a.Suspense,{fallback:Object(h.jsx)(S.a,{children:Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:t.listItem,children:"Loading"})})}),children:Object(h.jsx)(J,{resource:n,updateSearch:e.updateSearch})})]})},V=Object(j.a)((function(e){return{listItem:{width:300,height:50,display:"flex",alignItems:"center"},title:{fontSize:25,fontWeight:800,padding:16}}})),Y=Object(I.gql)(F||(F=Object(w.a)(["\nquery{\n  user{\n    bookmarks{\n      url\n      title\n    }\n  }\n}\n"]))),Q=function(e){var t=e.resource,n=e.updateSearch,a=t.read(),r=V();Object(z.g)();return 0==a.user.bookmarks.length?Object(h.jsx)(S.a,{children:Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:r.listItem,children:"No Bookmarks"})})}):Object(h.jsx)(S.a,{children:a.user.bookmarks.map((function(e,t){return Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:r.listItem,onClick:function(){return n(e.url)},children:e.title})},t)}))})},X=function(e){var t=V(),n=W(Y,{fetchPolicy:"no-cache"});return Object(h.jsxs)(N.a,{onClose:e.handleClose,"aria-labelledby":"simple-dialog-title",open:e.open,children:[Object(h.jsx)(b.a,{className:t.title,children:"Bookmarks"}),Object(h.jsx)(a.Suspense,{fallback:Object(h.jsx)(S.a,{children:Object(h.jsx)(C.a,{autoFocus:!0,button:!0,children:Object(h.jsx)(b.a,{className:t.listItem,children:"Loading"})})}),children:Object(h.jsx)(Q,{resource:n,updateSearch:e.updateSearch})})]})},G=n(241),Z=n(238),ee=n(239),te=n(240),ne=n(242),ae=n(243),re=n(244),ie=n(245),ce=n(44),oe=n.n(ce),se=n(113),le=n(253);n(89).config();var ue,de="ws://".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DOMAIN:"https://h5iyxee68b.execute-api.us-east-1.amazonaws.com"}).REACT_APP_EC2_PUBLIC,":15674/ws"),be=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DOMAIN:"https://h5iyxee68b.execute-api.us-east-1.amazonaws.com"}).REACT_RABBIT_USER,je=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DOMAIN:"https://h5iyxee68b.execute-api.us-east-1.amazonaws.com"}).REACT_RABBIT_PASS,he=Object(I.gql)(R||(R=Object(w.a)(["\n    query Similar($url: String!){\n        processUrl(url:$url){\n          uid\n          nextQueue\n          bookmarked\n        }\n    }  \n"]))),pe=new le.a({brokerURL:de,connectHeaders:{login:be,passcode:je},debug:function(e){console.log(e)},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3}),fe=function(e){return new Promise((function(t,n){pe.onConnect=function(n){var a=function(){var n=Object(se.a)(oe.a.mark((function n(a){var r;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.body){n.next=6;break}if((r=JSON.parse(a.body)).uid!==e){n.next=6;break}return t(r),n.next=6,pe.deactivate();case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();pe.subscribe("replyQueue",a,{"x-dead-letter-exchange":"replyQueue-dead-letter"})},pe.onStompError=function(e){console.log("Broker reported error: "+e.headers.message),console.log("Additional details: "+e.body)},pe.activate()}))},me=function(){var e=Object(se.a)(oe.a.mark((function e(t){var n,a,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.query({query:he,variables:{url:t}}).then((function(e){return e.data}));case 2:return n=e.sent,a=n.processUrl.uid,r=n.processUrl.bookmarked,e.abrupt("return",{queryUid:a,response:fe(a),bookmarked:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=n(189),xe=Object(j.a)((function(e){return{paper:{padding:"6px 16px",cursor:"pointer",textAlign:"justify",backgroundColor:"#FEFEFE"},secondaryTail:{backgroundColor:e.palette.secondary.main},description:{display:"-webkit-box",textOverflow:"ellipsis",overflow:"hidden","-webkit-line-clamp":5,"-webkit-box-orient":"vertical"},title:{display:"-webkit-box",textOverflow:"ellipsis",overflow:"hidden","-webkit-line-clamp":1,"-webkit-box-orient":"vertical"},loaderContainer:{display:"flex",justifyContent:"center",alignItems:"center",flex:1},timelineContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingBottom:50},footer:{background:"linear-gradient(0deg, #F1EDE4 20%, rgba(0,0,0,0) 100%)",width:"100%",height:45,position:"fixed",bottom:0,marginTop:-45}}})),ge=function(e){var t,n,a=e.data,r=xe(),i=null===a||void 0===a||null===(t=a.handleSearchRabbit)||void 0===t?void 0:t.result,c=null===a||void 0===a||null===(n=a.ingestUrlArticleRabbit)||void 0===n?void 0:n.result;if(!i||0===i.length)return null;var s,l=[{title:c.title,description:c.text,publish_date:c.publish_date,link:c.link,rank:-1}],u=function(e){return e.map((function(e,t){return Object(o.a)(Object(o.a)({rank:t},e),{},{publish_date:e.publish_date?Date.parse(e.publish_date):""})})).sort((function(e,t){return e.publish_date&&e.publish_date===t.publish_date?e.rank-t.rank:(t.publish_date?t.publish_date:-1===t.rank?1/0:-1/0)-(e.publish_date?e.publish_date:-1===e.rank?1/0:-1/0)}))}(i=i.concat(l)),d=(s=u.length-l.length,Oe.default(["#cc0000","#33cc33"],s>2?s:3));return Object(h.jsxs)(b.a,{className:r.timelineContainer,children:[Object(h.jsx)(Z.a,{align:"alternate",style:{maxWidth:1e3},children:u.map((function(e,t){return Object(h.jsxs)(ee.a,{children:[Object(h.jsx)(te.a,{children:Object(h.jsx)(G.a,{variant:"body2",color:"textSecondary",children:e.publish_date?new Date(e.publish_date).toLocaleDateString():""})}),Object(h.jsxs)(ne.a,{children:[Object(h.jsx)(ae.a,{style:{backgroundColor:-1===e.rank?"#478CE3":d[e.rank]}}),Object(h.jsx)(re.a,{})]}),Object(h.jsx)(ie.a,{children:Object(h.jsxs)(y.a,{elevation:0,className:r.paper,onClick:function(){return function(e){if(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}}(e.link)},style:Object(o.a)({},-1==e.rank&&{border:"1px solid #478CE3"}),children:[Object(h.jsx)(b.a,{style:{textAlign:t%2===0?"left":"right"},children:Object(h.jsx)(G.a,{color:"secondary",variant:"caption",children:-1===e.rank?"Original Article":"\ud83d\udd17 ".concat(e.link.split("/").slice(2,3))})}),Object(h.jsx)(b.a,{style:{textAlign:t%2!==0?"left":"right",marginTop:-20},children:Object(h.jsx)(G.a,{color:"secondary",variant:"caption",children:"   \ud83c\udfc5".concat(e.rank+2)})}),Object(h.jsx)(G.a,{className:r.title,variant:"h6",style:{fontWeight:550,fontSize:16},children:e.title}),Object(h.jsx)(G.a,{variant:"body1",children:Object(h.jsx)("div",{className:r.description,dangerouslySetInnerHTML:{__html:e.description}})})]})})]})}))}),Object(h.jsx)(b.a,{className:r.footer})]})},ve=function(e){var t=e.initialData,n=e.updateBookmarked,r=Object(a.useState)(null),i=Object(d.a)(r,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){t.response&&(t.response.then((function(e){return o(e)})),n(t.bookmarked))}),[t.queryUid]),t.response?null==c?Object(h.jsx)(h.Fragment,{children:"Message in queue"}):Object(h.jsx)(ge,{data:c}):null},ke=function(e){xe();var t=Object(a.useState)(null),n=Object(d.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){e.url&&(i(null),me(e.url).then((function(e){return i(e)})))}),[e.url]),e.url?null==r?Object(h.jsx)(h.Fragment,{children:"Adding message to queue"}):Object(h.jsx)(ve,{initialData:r,updateBookmarked:e.updateBookmarked}):null},ye=n(246),we=n(255),Se=n(152),Ce=n(247),Ne=n(114),Ie=n.n(Ne),_e=n(149),Ee=n.n(_e),Te=n(148),Pe=n.n(Te),Ae=n(147),De=function(){var e=P.a.get("token");return Object(Ae.a)(e)},Fe=Object(I.gql)(ue||(ue=Object(w.a)(["\nquery{\n  user{\n    notifications{\n      url\n      title\n    }\n  }\n}\n"]))),Re=Object(j.a)((function(e){return{header:{width:200,height:50,position:"fixed",zIndex:99,top:10,right:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},avatar:{transform:"scale(0.8)",backgroundColor:"#64625E"},mailIcon:{transform:"scale(1.1)",color:"#64625E"},horizontalCenter:{display:"flex",flexDirection:"column",alignItems:"center"},icon:{color:"#64625E"}}})),Be=function(e){var t=e.resource.read(),n=Re();return Object(h.jsx)(ye.a,{badgeContent:t.user.notifications.length,color:"primary",className:n.mailIcon,children:Object(h.jsx)(Ie.a,{})})},We=function(e){var t=e.updateSearch,n=Re(),r=Object(z.g)(),i=W(Fe),c=Object(a.useState)(null),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)(!1),j=Object(d.a)(u,2),p=j[0],f=j[1],m=Object(a.useState)(!1),O=Object(d.a)(m,2),x=O[0],g=O[1],v=Object(a.useState)(!1),k=Object(d.a)(v,2),y=k[0],w=k[1],S=function(){l(null)},C=function(e){g(!1),w(!1),f(!1),t(e)};return Object(h.jsxs)(b.a,{className:n.header,children:[Object(h.jsx)(b.a,{onClick:function(){g(!0)},children:Object(h.jsx)(Pe.a,{className:n.icon})}),Object(h.jsx)(b.a,{onClick:function(){w(!0)},children:Object(h.jsx)(Ee.a,{className:n.icon})}),Object(h.jsx)(b.a,{onClick:function(){f(!0)},children:Object(h.jsx)(a.Suspense,{fallback:Object(h.jsx)(Ie.a,{className:n.mailIcon}),children:Object(h.jsx)(Be,{resource:i})})}),Object(h.jsx)(we.a,{onClick:function(e){l(e.currentTarget)},className:n.avatar,children:De().data.name.slice(0,1)}),Object(h.jsxs)(Se.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:S,style:{marginTop:50},children:[Object(h.jsx)(Ce.a,{onClick:S,children:"Profile"}),Object(h.jsx)(Ce.a,{onClick:function(){P.a.remove("token"),r.push("/login")},children:"Logout"})]}),Object(h.jsx)(H,{open:p,handleClose:function(){f(!1)},updateSearch:C}),Object(h.jsx)(X,{open:y,handleClose:function(){w(!1)},updateSearch:C}),Object(h.jsx)($,{open:x,handleClose:function(){g(!1)},updateSearch:C})]})},ze=Object(j.a)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},text:{maxWidth:1e3,fontWeight:600},horizontalCenter:{display:"flex",flexDirection:"column",alignItems:"center"}}})),Le=function(e){var t=ze(),n=Object(a.useState)(e.url||""),r=Object(d.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(e.url||""),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(a.useState)(null),p=Object(d.a)(j,2),f=p[0],m=p[1],O=Object(z.g)(),x=function(e){c(e),u(e),m(null),O.push("/search/".concat(encodeURIComponent(e.replace(/\+/g," "))))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(b.a,{className:t.container,children:[Object(h.jsx)(G.a,{variant:"h2",color:"textSecondary",className:t.text,children:"Story Evolution Tracker"}),Object(h.jsx)(G.a,{variant:"subtitle1",color:"textSecondary",className:t.text,style:{fontWeight:200},children:"Track news stories on a timeline. Just enter a the URL to an article bellow."})]}),Object(h.jsx)(We,{updateSearch:x}),Object(h.jsxs)(b.a,{className:t.horizontalCenter,children:[Object(h.jsx)(k,{onSubmit:function(e){return x(e)},value:l,setValue:u,bookmarked:f}),Object(h.jsx)(ke,{url:i,updateBookmarked:function(e){m(e)}})]})]})},Ue=n(203),qe=n(248),He=n(249);n(89).config();var Me=Object(j.a)((function(e){return{container:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center"},paper:{width:400,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},form:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:20},formItem:{width:"90%",maxWidth:300,margin:10},footer:{display:"flex",justifyContent:"space-between",width:"90%",maxWidth:300,padding:20},title:{fontWeight:900,fontSize:40,paddingTop:40,paddingBottom:20,color:"#c2bbae"},backdrop:{zIndex:99}}})),Ke={Main:Le,LoginPage:function(){var e=Me(),t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(!1),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)([{email:"",password:""},{name:"",email:"",password1:"",password2:""}]),j=Object(d.a)(u,2),m=j[0],O=j[1],x=Object(z.g)();return Object(h.jsxs)(b.a,{className:e.container,children:[Object(h.jsx)(Ue.a,{className:e.backdrop,open:s,children:Object(h.jsx)(qe.a,{color:"primary"})}),Object(h.jsxs)(y.a,{className:e.paper,children:[Object(h.jsx)(b.a,{className:e.title,children:r?"Sign up":"Sign in"}),!r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:[Object(h.jsx)(f.a,{className:e.formItem,id:"outlined-basic",label:"Email *",variant:"outlined",value:m[0].email,onChange:function(e){var t,n;return O([{email:null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.toString(),password:m[0].password}].concat(Object(p.a)(m.slice(1))))}}),Object(h.jsx)(f.a,{className:e.formItem,id:"outlined-basic",label:"Password *",variant:"outlined",type:"password",onChange:function(e){var t,n;return O([{email:m[0].email,password:null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.toString()}].concat(Object(p.a)(m.slice(1))))},value:m[0].password}),Object(h.jsx)(He.a,{className:e.formItem,variant:"contained",color:"primary",onClick:function(){l(!0);var e=new Headers;e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify(m[0])};fetch("".concat("https://h5iyxee68b.execute-api.us-east-1.amazonaws.com","/dev/login/"),t).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);P.a.set("token",t.token),l(!1),x.push("/search")})).catch((function(e){console.log("error",e),l(!1)}))},children:"Log In"})]}),Object(h.jsxs)(b.a,{className:e.footer,children:[Object(h.jsx)(b.a,{onClick:function(){return x.push("/resetPassword")},children:"Forgot password?"}),Object(h.jsx)(b.a,{onClick:function(){return i(!0)},children:"Sign up"})]})]}),r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:[Object(h.jsx)(f.a,{className:e.formItem,id:"outlined-basic",label:"Name *",variant:"outlined",value:m[1].name,onChange:function(e){return O([].concat(Object(p.a)(m.slice(0,1)),[{password1:m[1].password1,password2:m[1].password2,email:m[1].email,name:e.target.value}]))}}),Object(h.jsx)(f.a,{className:e.formItem,id:"outlined-basic",label:"Email *",variant:"outlined",value:m[1].email,onChange:function(e){return O([].concat(Object(p.a)(m.slice(0,1)),[{password1:m[1].password1,password2:m[1].password2,name:m[1].name,email:e.target.value}]))}}),Object(h.jsx)(f.a,{className:e.formItem,id:"outlined-basic",label:"Password *",type:"password",variant:"outlined",onChange:function(e){return O([].concat(Object(p.a)(m.slice(0,1)),[{email:m[1].email,password2:m[1].password2,name:m[1].name,password1:e.target.value}]))},value:m[1].password1}),Object(h.jsx)(f.a,{className:e.formItem,id:"outlined-basic",label:"Repeat Password *",type:"password",variant:"outlined",onChange:function(e){return O([].concat(Object(p.a)(m.slice(0,1)),[{email:m[1].email,password1:m[1].password1,name:m[1].name,password2:e.target.value}]))},value:m[1].password2}),Object(h.jsx)(He.a,{className:e.formItem,variant:"contained",color:"primary",onClick:function(){l(!0);var e=new Headers;e.append("Content-Type","application/json");var t={method:"POST",headers:e,body:JSON.stringify(m[1])};fetch("".concat("https://h5iyxee68b.execute-api.us-east-1.amazonaws.com","/dev/signUp/"),t).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);P.a.set("token",t.token),l(!1),x.push("/search")})).catch((function(e){console.log("error",e),l(!1)}))},children:"Sign Up"})]}),Object(h.jsx)(b.a,{className:e.footer,children:Object(h.jsx)(b.a,{onClick:function(){return i(!1)},children:"Already have an account?"})})]})]})]})}},Je=function(e){return null==P.a.get("token")?Object(h.jsx)(z.a,{to:{pathname:"login"}}):Object(h.jsx)(z.b,Object(o.a)({},e))},$e=function(e){return null!=P.a.get("token")?Object(h.jsx)(z.a,{to:{pathname:"search"}}):Object(h.jsx)(z.b,{path:"/login",exact:!0,component:Ke.LoginPage})};var Ve=function(){return Object(h.jsx)(s.a,{theme:u,children:Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(z.d,{children:[Object(h.jsx)(z.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(z.a,{to:"/search"})}}),Object(h.jsx)($e,{path:"/login",exact:!0,component:Ke.LoginPage}),Object(h.jsx)(Je,{path:"/search/:url",render:function(e){return Object(h.jsx)(Ke.Main,{url:decodeURIComponent(e.match.params.url.replace(/\+/g," "))})}}),Object(h.jsx)(Je,{path:"/search",exact:!0,component:Ke.Main})]})})})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},Qe=n(46);n(89).config(),c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Qe.a,{children:Object(h.jsx)(Ve,{})})}),document.getElementById("root")),Ye()}},[[199,1,2]]]);
//# sourceMappingURL=main.53a7c880.chunk.js.map